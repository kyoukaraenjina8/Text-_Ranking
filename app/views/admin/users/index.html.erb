<div class="container p-5">
  <div class="row">
    <h1>ユーザーリスト</h1>
    <table class='table'>
      <thead>
        <tr>
          <th>会員ID</th>
          <th>氏名</th>
          <th>メールアドレス</th>
          <th>投稿数</th>
          <th>コメント数</th>
          <th>ステータス</th>
        </tr>
      </thead>
      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td><%= user.id %></td>
            <td><%= link_to admin_path(user.id) do %>
              <%= user.name %>
              <% end %>
            </td>
            <td><%= user.email %></td>
            <td><%= user.posts.count %></td>
            <td><%= user.comments.count %></td>
            <td><% if user.is_deleted %>
            退会
            <% else %>
            有効
            <% end %>
            </td>
            <td><%= link_to "ユーザー情報編集", edit_admin_user_path(user) %></td>
            <td><%= link_to "退会処理", admin_users_withdraw_path, data: { confirm: "【確認】アカウントを削除してもよろしいですか？" }, class: 'btn btn-outline-danger btn-sm' %></td>
            <td><%= link_to "退会処理", admin_withdraw_user_path(user), method: :patch, data: { confirm: "【確認】アカウントを削除してもよろしいですか？" }, class: 'btn btn-outline-danger btn-sm' %></td>

          </tr>
        <% end %>
      </tbody>
    </table>
    <%= paginate @users %>
  </div>
</div>